<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>JSON</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--jquery函式庫 min給機器看的，拿掉就可以看了-->
        <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script>
        
    function getCustomer(){
                /*//javascript的物件Object
                var customer = new Object();
                
                customer.name = $("#name").val();
                customer.address = $("#address").val();
                customer.phone = $("#phone").val();
                customer.toString = function(){
                return this.name + '\n' + this.address + '\n' + this.phone;
                };
        */
       //JSON(大括號中用屬性名稱跟值來定義物件)的物件Object,處理資料格式
        var customer = {
                    name: $("#name").val(),
                    address: $("#address").val(),
                    phone: $("#phone").val(),
                    toString: function(){
                      return this.name + ',\n' + 
                              this.address + ',\n' + 
                              this.phone;  
                    }
                };
                //警示name,address,phone
                alert(customer);
                //ajax寫法(Asynchronous JavaScript and XML非同步的javaScript和XML)
                $.ajax({
//                    請求的url
                    url:"https://maps.googleapis.com/maps/api/geocode/json?address=" + customer.address,
                    //GET 內建
                    type:"GET",
                    dataType:"json"
                    //done會收到json
                }).done(function(json) {
                    //取得json的位置lat緯度跟lng經度的結果
                    alert(json.results[0].geometry.location.lat+","
                     +json.results[0].geometry.location.lng);

                });
            }
            
           
           
           
            
    </script>
    </head>
    <body>
        <form method='post'>
            <label for='name'>Name</label>
            <input type='text' id='name' name='name'><br>
            <label for='address'>Address</label>
            <input type='text' id='address' name='address'><br>
            <label for='phone'>Phone</label>
            <input type='text' id='phone' name='phone'><br>
            <input type='button' value="OK" onclick="getCustomer()"> 
            
        </form>

    </body>
</html>
